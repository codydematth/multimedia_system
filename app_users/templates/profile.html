{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}

  {% block content%} 
  
  <div class="container mt-4 pt-2">
    <div class="row padding mt-2">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="card mb-1">
          <div class="card-header font-weight-bold">
            <h2 class="display-5 lead"> Account</h2>
              </div>
              <div class="card-body">
             
                    <!-- border: 1px solid #000; -->
            <div class="d-flex flex-xl-row flex-lg-row flex-md-column flex-sm-column flex-column" style="width: 100%;">
            <div class="d-xl-flex d-lg-flex d-md-none d-sm-none d-none justify-content-center flex-column" style="width: 40%;">

            <div class="d-flex flex-column justify-content-center align-items-center vertical-align-center">
              {% if user.has_profile%}
                
                    <img class="img-thumbnail" id="id_profile_image_display" src="{{ user.userprofileinfo.profile_pic.url }}" style="width: 100%; margin-bottom: 30px; "/>
              {%else%}
              <img class="img-thumbnail profile-image" id="id_profile_image_display" src="{% static 'Images/default.jpg'%}" alt="balnk image" style="width: 100%; margin-bottom: 30px;"/>
              <span class="text-warning" >Request from your Teacher to show your image</span>

               {%endif%}
            </div>


            </div>
            
            <div class="d-xl-none d-lg-none d-md-flex d-sm-flex d-flex justify-content-center flex-column" style="width: 100%;" >
                
                <div class="d-flex  flex-column  justify-content-center align-items-center vertical-align-center">
                  {% if user.has_profile%}
                    
                        <img class="img-thumbnail profile-image" id="id_profile_image_display" src="{{ user.userprofileinfo.profile_pic.url }}" style="width: 60%;"/>
                  {% else%}
                  <img class="img-thumbnail profile-image" id="id_profile_image_display" src="{% static 'Images/default.jpg' %}" style="width: 60%;"/>
                  <span class="text-warning" >Request from your Teacher to show your image</span>
                    {%endif%}
                </div>
                
                
            </div>



            <div class="account-attributes d-flex justify-content-start align-items-start vertical-align-center flex-column p-xl-4 p-lg-4 p-md-3 p-sm-3 p-0">
            <div class="d-flex flex-row justify-content-between" style="width: 100%;">
                <div class="d-flex flex-column justify-content-between ml-3">
                    <h5 class="text-dark">
                        <strong>
                            {{user.username}}
                        </strong>
                    </h5>
                   
                </div>

            </div>
            <div class="d-flex justify-content-between flex-column mt-3 p-3" style="width: 100%;">

                <!-- START EMAIL FIELD -->
                <div class="d-flex justify-content-between flex-row my-1" style="width: 100%;">
                    <div class="text d-flex">
                        <span class='text-dark'>Email</span>
                    </div>

                    <div class="d-flex">
                        
                        <span style="margin-left: 10rem;" class="text text-primary">{{user.email}}</span>
                        
                    </div>
                </div>
                <div class="d-flex justify-content-between flex-row" style="width: 100%;">
                    <div class="text d-flex">
                        
                    </div>
                </div>
                <!-- END EMAIL FIELD -->
                <!-- START USERNAME FIELD -->
                <div class="d-flex justify-content-between flex-row my-1" style="width: 100%;">
                    <div class="text d-flex">
                        <span class='text-dark'>Username:</span>
                    </div>

                    <div class="d-flex ">
                        
                        <span class="text text-primary ml-5">{{user.username}}</span>
                        
                    </div>
                </div>
                <div class="d-flex justify-content-between flex-row" style="width: 100%;">
                    <div class="text d-flex">
                        
                    </div>
                  </div>
                </div>
                <!-- END USERNAME FIELD -->

      </div>
    </div>
  </div>             
</div>

<div class="container p-0">
    <div class="row padding">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="card mb-4">
          <div class="card-body">
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <fieldset class="form-group">
                    <legend class="border-bottom mb-4">Profile Settings</legend>
                    {{ u_form|crispy }}
                    {{ p_form|crispy }}
                </fieldset>
                <div class="form-group text-center">
                    <button class="btn btn-outline-secondary" type="submit">Update</button>
                </div>
            </form>
            
          </div>
          
        </div>
              
    </div>
  </div>
</div>  
</div>
</div>
  </div>
{% endblock %}